# TDesign TabBar å¸åº•é—®é¢˜ä¿®å¤è¯´æ˜

## âœ… é—®é¢˜å·²ä¿®å¤

### åŸå› åˆ†æ:

1. **æ ·å¼é€‰æ‹©å™¨é”™è¯¯** - ä½¿ç”¨äº† `.custom-tab-bar` ç±»å,ä½† TDesign ç»„ä»¶ä¸ä¼šåº”ç”¨è¿™ä¸ªç±»å
2. **å®šä½æ–¹å¼ä¸æ­£ç¡®** - éœ€è¦ä½¿ç”¨ `:host` é€‰æ‹©å™¨æ¥æ§åˆ¶è‡ªå®šä¹‰ç»„ä»¶çš„æ ¹å…ƒç´ å®šä½
3. **z-index ä¸è¶³** - æ²¡æœ‰è®¾ç½®è¶³å¤Ÿé«˜çš„å±‚çº§,å¯èƒ½è¢«å…¶ä»–å…ƒç´ è¦†ç›–

### ä¿®å¤æ–¹æ¡ˆ:

#### 1. ä½¿ç”¨ `:host` é€‰æ‹©å™¨æ§åˆ¶æ ¹å…ƒç´ å®šä½

```css
/* custom-tab-bar/index.wxss */
:host {
  position: fixed !important;
  bottom: 32rpx !important;
  left: 32rpx !important;
  right: 32rpx !important;
  z-index: 9999 !important;
}
```

`:host` é€‰æ‹©å™¨æ˜¯ä¸“é—¨ç”¨äºè‡ªå®šä¹‰ç»„ä»¶çš„æ ¹å…ƒç´ çš„,å¯ä»¥æ§åˆ¶ç»„ä»¶æ•´ä½“çš„å®šä½ã€‚

#### 2. ç›´æ¥ä½¿ç”¨ TDesign çš„ç±»å

```css
.t-tab-bar {
  position: relative !important;
  border-radius: 48rpx !important;
  /* å…¶ä»–æ ·å¼ */
}

.t-tab-bar-item {
  flex-direction: column !important;
  /* å…¶ä»–æ ·å¼ */
}
```

#### 3. é¡µé¢å†…å®¹é¢„ç•™åº•éƒ¨ç©ºé—´

ä¸ºäº†é¿å…å†…å®¹è¢«æ‚¬æµ® TabBar é®æŒ¡,éœ€è¦åœ¨é¡µé¢å®¹å™¨æ·»åŠ åº•éƒ¨å†…è¾¹è·:

```css
.home-container {
  padding-bottom: 180rpx; /* ä¸ºæ‚¬æµ® TabBar é¢„ç•™ç©ºé—´ */
}
```

## ğŸ“‹ ä¿®æ”¹çš„æ–‡ä»¶:

1. âœ… `custom-tab-bar/index.wxss` - ä¿®å¤æ ·å¼é€‰æ‹©å™¨
2. âœ… `custom-tab-bar/index.wxml` - ç§»é™¤æ— æ•ˆçš„ t-class
3. âœ… `pages/index/index.wxss` - æ·»åŠ åº•éƒ¨å†…è¾¹è·
4. âœ… `pages/menu/menu.wxss` - æ·»åŠ åº•éƒ¨å†…è¾¹è·
5. âœ… `pages/order-list/order-list.wxss` - æ·»åŠ åº•éƒ¨å†…è¾¹è·
6. âœ… `pages/profile/profile.wxss` - æ·»åŠ åº•éƒ¨å†…è¾¹è·

## ğŸ¯ æ•ˆæœé¢„è§ˆ:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             â”‚
â”‚     é¡µé¢å†…å®¹åŒºåŸŸ              â”‚
â”‚                             â”‚
â”‚     å¯ä»¥æ­£å¸¸æ»šåŠ¨              â”‚
â”‚                             â”‚
â”‚     åº•éƒ¨é¢„ç•™äº†ç©ºé—´            â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ 180rpx ç©ºé—´
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ğŸ   ğŸ“±  ğŸ“‹  ğŸ‘¤   â”‚  â† å›ºå®šåœ¨åº•éƒ¨çš„æ‚¬æµ®èƒ¶å›Š
    â”‚é¦–é¡µ ç‚¹å• è®¢å• æˆ‘çš„â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ 32rpx é—´è·
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         åº•éƒ¨å®‰å…¨åŒºåŸŸ
```

## ğŸ”§ å…³é”®çŸ¥è¯†ç‚¹:

### 1. è‡ªå®šä¹‰ç»„ä»¶æ ·å¼éš”ç¦»

å°ç¨‹åºè‡ªå®šä¹‰ç»„ä»¶é»˜è®¤å¯ç”¨æ ·å¼éš”ç¦»,å¤–éƒ¨æ ·å¼æ— æ³•å½±å“ç»„ä»¶å†…éƒ¨ã€‚éœ€è¦ä½¿ç”¨:

- `:host` - é€‰æ‹©ç»„ä»¶æ ¹å…ƒç´ 
- `::v-deep` æˆ–ç›´æ¥ä½¿ç”¨ç»„ä»¶ç±»å - ç©¿é€æ ·å¼éš”ç¦»
- `externalClasses` - æ¥å—å¤–éƒ¨ç±»å

### 2. TabBar å®šä½æ–¹æ¡ˆ

**åŸç”Ÿ TabBar:**
```json
{
  "tabBar": {
    "custom": false,
    "position": "bottom"  // å¾®ä¿¡è‡ªåŠ¨å¤„ç†
  }
}
```

**è‡ªå®šä¹‰ TabBar (TDesign):**
```css
:host {
  position: fixed;
  bottom: 32rpx;  // è·ç¦»åº•éƒ¨ç•™ç™½
  left: 32rpx;
  right: 32rpx;
  z-index: 9999;  // ç¡®ä¿åœ¨æœ€ä¸Šå±‚
}
```

### 3. é¡µé¢å®‰å…¨åŒºåŸŸ

ä½¿ç”¨æ‚¬æµ® TabBar æ—¶,éœ€è¦åœ¨é¡µé¢å†…å®¹åº•éƒ¨æ·»åŠ å®‰å…¨åŒºåŸŸ:

```css
/* æ–¹æ³•1: å›ºå®šé«˜åº¦ */
.container {
  padding-bottom: 180rpx;
}

/* æ–¹æ³•2: calc è®¡ç®— */
.container {
  padding-bottom: calc(env(safe-area-inset-bottom) + 160rpx);
}

/* æ–¹æ³•3: ä½¿ç”¨ CSS å˜é‡ */
page {
  --tabbar-height: 180rpx;
}
.container {
  padding-bottom: var(--tabbar-height);
}
```

## ğŸš€ æµ‹è¯•æ­¥éª¤:

1. **æ¸…é™¤ç¼“å­˜é‡æ–°ç¼–è¯‘**
   - å¾®ä¿¡å¼€å‘è€…å·¥å…· â†’ æ¸…é™¤ç¼“å­˜
   - é‡æ–°æ„å»º npm
   - é‡æ–°ç¼–è¯‘

2. **æ£€æŸ¥ TabBar ä½ç½®**
   - TabBar åº”è¯¥å›ºå®šåœ¨åº•éƒ¨
   - è·ç¦»åº•éƒ¨æœ‰ 32rpx é—´è·
   - å·¦å³å„æœ‰ 32rpx é—´è·

3. **æµ‹è¯•æ»šåŠ¨**
   - é¡µé¢å†…å®¹å¯ä»¥æ­£å¸¸æ»šåŠ¨
   - TabBar ä¿æŒå›ºå®šä¸åŠ¨
   - å†…å®¹ä¸ä¼šè¢« TabBar é®æŒ¡

4. **æµ‹è¯•åˆ‡æ¢**
   - ç‚¹å‡» TabBar åˆ‡æ¢é¡µé¢
   - é€‰ä¸­çŠ¶æ€æ­£ç¡®æ˜¾ç¤º
   - é¡µé¢é—´åˆ‡æ¢æµç•…

## âš ï¸ å¸¸è§é—®é¢˜:

**Q1: TabBar è¿˜æ˜¯åœ¨å·¦ä¸Šè§’?**
A: æ¸…é™¤ç¼“å­˜,é‡æ–°æ„å»º npm,ç¡®è®¤ TDesign å·²æ­£ç¡®å®‰è£…

**Q2: æ ·å¼ä¸ç”Ÿæ•ˆ?**
A: æ£€æŸ¥æ˜¯å¦ä½¿ç”¨äº† `!important`,ç¡®è®¤æ ·å¼æ–‡ä»¶å·²ä¿å­˜

**Q3: TabBar è¢«å†…å®¹é®æŒ¡?**
A: æ£€æŸ¥ `z-index` æ˜¯å¦è¶³å¤Ÿé«˜ (å»ºè®® 9999)

**Q4: åº•éƒ¨æœ‰ç©ºç™½?**
A: è°ƒæ•´é¡µé¢å®¹å™¨çš„ `padding-bottom` å€¼

**Q5: çœŸæœºä¸Šæ•ˆæœä¸å¯¹?**
A: è€ƒè™‘ä½¿ç”¨ `env(safe-area-inset-bottom)` é€‚é…ä¸åŒæœºå‹

## ğŸ“š å‚è€ƒèµ„æ–™:

- TDesign TabBar: https://tdesign.tencent.com/miniprogram/components/tab-bar
- å°ç¨‹åºè‡ªå®šä¹‰ç»„ä»¶æ ·å¼: https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/wxml-wxss.html
- å®‰å…¨åŒºåŸŸé€‚é…: https://developers.weixin.qq.com/miniprogram/dev/framework/view/css.html
